<?phpclass Controller_SnapService extends Controller{    function action_index()    {        $req = DBUtil::connectDB()->query("SELECT snaps_service.id, name_entity_providing_admin_services,name_admin_services FROM snaps_service INNER JOIN snaps ON snaps.id = snaps_service.snap_id");        $list = array();        $row = 0;        if ($req->num_rows > 0) {            while ($res = $req->fetch_assoc()) {                $list[$row++] = $res;            }        }        DBUtil::closeDB();        $this->view->generate('snap_service/snap_services_view.php', 'template_view.php', $list);    }    function action_add()    {        $this->view->generate('snap_service/snap_service_view.php', 'template_view.php');    }    function action_del()    {        if (isset($_POST["id"])) {            DBUtil::connectDB()->query("DELETE FROM snaps_service WHERE id = " . $_POST["id"]);       }        header('Location:/snapservice/');    }    function action_edit()    {        $cell = null;        if (isset($_POST["id"])) {            $id = $_POST["id"];            $req = DBUtil::connectDB()->query("SELECT * FROM snaps_service WHERE id = '$id'");            if ($req->num_rows > 0) {                $cell = $req->fetch_assoc();            }        }        $this->view->generate('snap_service/snap_service_view.php', 'template_view.php', $cell);    }    function action_save()    {        if (isset($_POST["id"])) {            $text = $_POST['name_admin_services'];            $name_admin = str_replace("'","â€™","$text");            echo  $name_admin."<br>";            if (empty($_POST["id"])) {                $sql = "INSERT INTO snaps_service VALUES (NULL ,'" .                    $_POST["snap_id"] . "', '" .                    $name_admin . "')";            } else {                $sql = "UPDATE snaps_service SET snap_id='" . $_POST["snap_id"] . "', name_admin_services = '" . $name_admin . "' WHERE id =  " . $_POST["id"];            }           DBUtil::connectDB()->query($sql);        }        header('Location:/snapservice/');    }}